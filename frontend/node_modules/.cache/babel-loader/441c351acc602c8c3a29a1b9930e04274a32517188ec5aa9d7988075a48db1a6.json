{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saber\\\\OneDrive\\\\Bureau\\\\projetMIPS$\\\\frontend\\\\src\\\\pages\\\\TakeExam.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport ExamService from '../services/ExamService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TakeExam = () => {\n  _s();\n  const {\n    examId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [exam, setExam] = useState(null);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [timeLeft, setTimeLeft] = useState(null);\n  const [submitted, setSubmitted] = useState(false);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    const fetchExam = async () => {\n      try {\n        setLoading(true);\n        const examData = await ExamService.getExamById(examId);\n        setExam(examData);\n        const initialAnswers = {};\n        if (examData.questions && examData.questions.length > 0) {\n          examData.questions.forEach((question, index) => {\n            initialAnswers[index] = '';\n          });\n        }\n        setAnswers(initialAnswers);\n        const endTime = new Date(examData.endTime).getTime();\n        const now = new Date().getTime();\n        const duration = Math.floor((endTime - now) / 1000);\n        setTimeLeft(duration > 0 ? duration : 0);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching exam:', err);\n        setError('Failed to load exam. Please try again.');\n        setLoading(false);\n      }\n    };\n    fetchExam();\n  }, [examId, navigate, user]);\n  useEffect(() => {\n    if (!timeLeft || timeLeft <= 0) return;\n    const timerId = setInterval(() => {\n      setTimeLeft(timeLeft - 1);\n      if (timeLeft <= 1) {\n        handleSubmit();\n        clearInterval(timerId);\n      }\n    }, 1000);\n    return () => clearInterval(timerId);\n  }, [timeLeft]);\n  useEffect(() => {\n    if (exam && exam.questions) {\n      const answeredCount = Object.values(answers).filter(answer => answer !== '').length;\n      const percentage = Math.round(answeredCount / exam.questions.length * 100);\n      setProgress(percentage);\n    }\n  }, [answers, exam]);\n  const formatTime = seconds => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor(seconds % 3600 / 60);\n    const secs = seconds % 60;\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  const handleAnswerChange = (questionIndex, value) => {\n    setAnswers({\n      ...answers,\n      [questionIndex]: value\n    });\n  };\n  const handleSubmit = async () => {\n    if (submitted) return;\n    try {\n      setLoading(true);\n      setSubmitted(true);\n\n      // Format the answers with the required structure\n      const formattedAnswers = Object.keys(answers).map(index => ({\n        questionId: exam.questions[index]._id,\n        answer: answers[index]\n      }));\n\n      // Include the student ID explicitly in the payload\n      const payload = {\n        answers: formattedAnswers,\n        studentId: user._id // Make sure user ID is included\n      };\n      console.log('Submitting with payload:', payload);\n      await ExamService.submitExam(examId, payload);\n      navigate('/student-dashboard', {\n        state: {\n          message: 'Exam submitted successfully!'\n        }\n      });\n    } catch (err) {\n      console.error('Error submitting exam:', err);\n      setError('Failed to submit exam. Please try again.');\n      setSubmitted(false);\n      setLoading(false);\n    }\n  };\n  const goToNextQuestion = () => {\n    if (currentQuestion < exam.questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    }\n  };\n  const goToPreviousQuestion = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(currentQuestion - 1);\n    }\n  };\n  if (loading && !exam) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-700 text-lg\",\n          children: \"Loading exam...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-red-600 mb-4\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/student-dashboard'),\n          className: \"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this);\n  }\n  if (!exam) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-4\",\n          children: \"Exam Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700\",\n          children: \"The exam you're looking for doesn't exist or you don't have permission to access it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/student-dashboard'),\n          className: \"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [showConfirmModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl max-w-md w-full p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-900 mb-4\",\n          children: \"Submit Exam?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: [\"You have answered \", Object.values(answers).filter(a => a !== '').length, \" out of \", exam.questions.length, \" questions. Are you sure you want to submit your exam?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfirmModal(false),\n            className: \"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md text-gray-800\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white\",\n            children: \"Submit Exam\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md sticky top-0 z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-2 sm:mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/student-dashboard'),\n              className: \"mr-3 text-gray-500 hover:text-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-bold text-gray-900 truncate\",\n              children: exam.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-5 w-5 text-indigo-500 mr-1\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [progress, \"% Complete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center px-3 py-1 rounded-full text-sm font-medium ${timeLeft < 300 ? 'bg-red-100 text-red-800' : timeLeft < 600 ? 'bg-yellow-100 text-yellow-800' : 'bg-indigo-100 text-indigo-800'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-4 w-4 mr-1\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 33\n              }, this), formatTime(timeLeft)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-1 w-full bg-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-1 bg-indigo-600 transition-all duration-300\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-8 text-center max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-10 w-10 text-green-600\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M5 13l4 4L19 7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2\",\n          children: \"Exam Submitted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: \"Your answers have been recorded successfully.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/student-dashboard'),\n          className: \"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-md\",\n          children: \"Return to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col lg:flex-row gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:w-72 bg-white p-5 rounded-lg shadow-md h-fit\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: \"Questions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: [Object.values(answers).filter(a => a !== '').length, \"/\", exam.questions.length, \" answered\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-5 sm:grid-cols-6 lg:grid-cols-4 gap-2 mb-6\",\n            children: exam.questions && exam.questions.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentQuestion(index),\n              className: `h-10 w-10 rounded-md flex items-center justify-center font-medium text-sm transition-all\n                                            ${currentQuestion === index ? 'bg-indigo-600 text-white shadow-md' : answers[index] ? 'bg-indigo-100 text-indigo-800 border-2 border-indigo-300' : 'bg-gray-100 text-gray-800 hover:bg-gray-200'}`,\n              children: index + 1\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-indigo-600 rounded-sm mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Current question\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-indigo-100 border-2 border-indigo-300 rounded-sm mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Answered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-gray-100 rounded-sm mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Unanswered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 pt-6 border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowConfirmModal(true),\n              className: \"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-md flex items-center justify-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-5 w-5 mr-2\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M5 13l4 4L19 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 37\n              }, this), \"Submit Exam\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: exam.questions && exam.questions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full mr-2\",\n                    children: [\"Question \", currentQuestion + 1, \"/\", exam.questions.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full\",\n                    children: [exam.questions[currentQuestion].points || 1, \" \", exam.questions[currentQuestion].points === 1 ? 'point' : 'points']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: exam.questions[currentQuestion].questionType || 'multiple-choice'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: exam.questions[currentQuestion].questionText || exam.questions[currentQuestion].text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 37\n            }, this), (exam.questions[currentQuestion].questionType === 'multiple-choice' || !exam.questions[currentQuestion].questionType) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: exam.questions[currentQuestion].options && exam.questions[currentQuestion].options.map((option, optionIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handleAnswerChange(currentQuestion, optionIndex.toString()),\n                className: `p-4 border rounded-lg cursor-pointer transition-all\n                                                        ${answers[currentQuestion] === optionIndex.toString() ? 'border-indigo-500 bg-indigo-50 shadow-sm' : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `h-5 w-5 rounded-full border flex-shrink-0 flex items-center justify-center\n                                                            ${answers[currentQuestion] === optionIndex.toString() ? 'border-indigo-600 bg-indigo-600' : 'border-gray-300'}`,\n                    children: answers[currentQuestion] === optionIndex.toString() && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h-2 w-2 rounded-full bg-white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3 text-gray-800\",\n                    children: typeof option === 'object' ? option.text : option\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 53\n                }, this)\n              }, optionIndex, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 41\n            }, this), exam.questions[currentQuestion].questionType === 'true-false' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handleAnswerChange(currentQuestion, 'true'),\n                className: `p-4 border rounded-lg cursor-pointer transition-all\n                                                    ${answers[currentQuestion] === 'true' ? 'border-indigo-500 bg-indigo-50 shadow-sm' : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `h-5 w-5 rounded-full border flex-shrink-0 flex items-center justify-center\n                                                        ${answers[currentQuestion] === 'true' ? 'border-indigo-600 bg-indigo-600' : 'border-gray-300'}`,\n                    children: answers[currentQuestion] === 'true' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h-2 w-2 rounded-full bg-white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3 text-gray-800\",\n                    children: \"True\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handleAnswerChange(currentQuestion, 'false'),\n                className: `p-4 border rounded-lg cursor-pointer transition-all\n                                                    ${answers[currentQuestion] === 'false' ? 'border-indigo-500 bg-indigo-50 shadow-sm' : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `h-5 w-5 rounded-full border flex-shrink-0 flex items-center justify-center\n                                                        ${answers[currentQuestion] === 'false' ? 'border-indigo-600 bg-indigo-600' : 'border-gray-300'}`,\n                    children: answers[currentQuestion] === 'false' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h-2 w-2 rounded-full bg-white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3 text-gray-800\",\n                    children: \"False\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-8 flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: goToPreviousQuestion,\n                disabled: currentQuestion === 0,\n                className: `px-4 py-2 rounded-md flex items-center ${currentQuestion === 0 ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5 mr-1\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M15 19l-7-7 7-7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 45\n                }, this), \"Previous\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: goToNextQuestion,\n                disabled: currentQuestion === exam.questions.length - 1,\n                className: `px-4 py-2 rounded-md flex items-center ${currentQuestion === exam.questions.length - 1 ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700'}`,\n                children: [\"Next\", /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5 ml-1\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M9 5l7 7-7 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 9\n  }, this);\n};\n_s(TakeExam, \"arSj7pR3SlIllBgO0zY5SWH81Tc=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = TakeExam;\nexport default TakeExam;\nvar _c;\n$RefreshReg$(_c, \"TakeExam\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","ExamService","jsxDEV","_jsxDEV","TakeExam","_s","examId","navigate","user","exam","setExam","answers","setAnswers","loading","setLoading","error","setError","timeLeft","setTimeLeft","submitted","setSubmitted","currentQuestion","setCurrentQuestion","showConfirmModal","setShowConfirmModal","progress","setProgress","fetchExam","examData","getExamById","initialAnswers","questions","length","forEach","question","index","endTime","Date","getTime","now","duration","Math","floor","err","console","timerId","setInterval","handleSubmit","clearInterval","answeredCount","Object","values","filter","answer","percentage","round","formatTime","seconds","hours","minutes","secs","toString","padStart","handleAnswerChange","questionIndex","value","formattedAnswers","keys","map","questionId","_id","payload","studentId","log","submitExam","state","message","goToNextQuestion","goToPreviousQuestion","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","a","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","title","style","width","_","points","questionType","questionText","text","options","option","optionIndex","disabled","_c","$RefreshReg$"],"sources":["C:/Users/saber/OneDrive/Bureau/projetMIPS$/frontend/src/pages/TakeExam.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport ExamService from '../services/ExamService';\n\nconst TakeExam = () => {\n    const { examId } = useParams();\n    const navigate = useNavigate();\n    const { user } = useAuth();\n    const [exam, setExam] = useState(null);\n    const [answers, setAnswers] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [timeLeft, setTimeLeft] = useState(null);\n    const [submitted, setSubmitted] = useState(false);\n    const [currentQuestion, setCurrentQuestion] = useState(0);\n    const [showConfirmModal, setShowConfirmModal] = useState(false);\n    const [progress, setProgress] = useState(0);\n\n    useEffect(() => {\n        if (!user) {\n            navigate('/login');\n            return;\n        }\n\n        const fetchExam = async () => {\n            try {\n                setLoading(true);\n                const examData = await ExamService.getExamById(examId);\n                setExam(examData);\n                \n                const initialAnswers = {};\n                if (examData.questions && examData.questions.length > 0) {\n                    examData.questions.forEach((question, index) => {\n                        initialAnswers[index] = '';\n                    });\n                }\n                setAnswers(initialAnswers);\n                \n                const endTime = new Date(examData.endTime).getTime();\n                const now = new Date().getTime();\n                const duration = Math.floor((endTime - now) / 1000);\n                setTimeLeft(duration > 0 ? duration : 0);\n                \n                setLoading(false);\n            } catch (err) {\n                console.error('Error fetching exam:', err);\n                setError('Failed to load exam. Please try again.');\n                setLoading(false);\n            }\n        };\n\n        fetchExam();\n    }, [examId, navigate, user]);\n\n    useEffect(() => {\n        if (!timeLeft || timeLeft <= 0) return;\n\n        const timerId = setInterval(() => {\n            setTimeLeft(timeLeft - 1);\n            \n            if (timeLeft <= 1) {\n                handleSubmit();\n                clearInterval(timerId);\n            }\n        }, 1000);\n\n        return () => clearInterval(timerId);\n    }, [timeLeft]);\n\n    useEffect(() => {\n        if (exam && exam.questions) {\n            const answeredCount = Object.values(answers).filter(answer => answer !== '').length;\n            const percentage = Math.round((answeredCount / exam.questions.length) * 100);\n            setProgress(percentage);\n        }\n    }, [answers, exam]);\n\n    const formatTime = (seconds) => {\n        const hours = Math.floor(seconds / 3600);\n        const minutes = Math.floor((seconds % 3600) / 60);\n        const secs = seconds % 60;\n        \n        return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n    };\n\n    const handleAnswerChange = (questionIndex, value) => {\n        setAnswers({\n            ...answers,\n            [questionIndex]: value\n        });\n    };\n\n    const handleSubmit = async () => {\n        if (submitted) return;\n        \n        try {\n            setLoading(true);\n            setSubmitted(true);\n            \n            // Format the answers with the required structure\n            const formattedAnswers = Object.keys(answers).map(index => ({\n                questionId: exam.questions[index]._id,\n                answer: answers[index]\n            }));\n            \n            // Include the student ID explicitly in the payload\n            const payload = {\n                answers: formattedAnswers,\n                studentId: user._id // Make sure user ID is included\n            };\n            \n            console.log('Submitting with payload:', payload);\n            \n            await ExamService.submitExam(examId, payload);\n            \n            navigate('/student-dashboard', { state: { message: 'Exam submitted successfully!' } });\n        } catch (err) {\n            console.error('Error submitting exam:', err);\n            setError('Failed to submit exam. Please try again.');\n            setSubmitted(false);\n            setLoading(false);\n        }\n    };\n\n    const goToNextQuestion = () => {\n        if (currentQuestion < exam.questions.length - 1) {\n            setCurrentQuestion(currentQuestion + 1);\n        }\n    };\n\n    const goToPreviousQuestion = () => {\n        if (currentQuestion > 0) {\n            setCurrentQuestion(currentQuestion - 1);\n        }\n    };\n\n    if (loading && !exam) {\n        return (\n            <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n                <div className=\"text-center\">\n                    <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-600 mx-auto\"></div>\n                    <p className=\"mt-4 text-gray-700 text-lg\">Loading exam...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n                <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full\">\n                    <h2 className=\"text-2xl font-bold text-red-600 mb-4\">Error</h2>\n                    <p className=\"text-gray-700\">{error}</p>\n                    <button\n                        onClick={() => navigate('/student-dashboard')}\n                        className=\"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                    >\n                        Back to Dashboard\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (!exam) {\n        return (\n            <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n                <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full\">\n                    <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Exam Not Found</h2>\n                    <p className=\"text-gray-700\">The exam you're looking for doesn't exist or you don't have permission to access it.</p>\n                    <button\n                        onClick={() => navigate('/student-dashboard')}\n                        className=\"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                    >\n                        Back to Dashboard\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-gray-100\">\n            {/* Confirmation Modal */}\n            {showConfirmModal && (\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n                    <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n                        <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Submit Exam?</h3>\n                        <p className=\"text-gray-600 mb-6\">\n                            You have answered {Object.values(answers).filter(a => a !== '').length} out of {exam.questions.length} questions. \n                            Are you sure you want to submit your exam?\n                        </p>\n                        <div className=\"flex justify-end space-x-3\">\n                            <button \n                                onClick={() => setShowConfirmModal(false)}\n                                className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md text-gray-800\"\n                            >\n                                Cancel\n                            </button>\n                            <button \n                                onClick={handleSubmit}\n                                className=\"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white\"\n                            >\n                                Submit Exam\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Header with timer and progress */}\n            <div className=\"bg-white shadow-md sticky top-0 z-10\">\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3\">\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n                        <div className=\"flex items-center mb-2 sm:mb-0\">\n                            <button \n                                onClick={() => navigate('/student-dashboard')}\n                                className=\"mr-3 text-gray-500 hover:text-gray-700\"\n                            >\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                                </svg>\n                            </button>\n                            <h1 className=\"text-xl font-bold text-gray-900 truncate\">{exam.title}</h1>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-4\">\n                            <div className=\"flex items-center\">\n                                <svg className=\"h-5 w-5 text-indigo-500 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                                </svg>\n                                <span className=\"text-sm text-gray-600\">{progress}% Complete</span>\n                            </div>\n                            \n                            <div className={`flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                                timeLeft < 300 \n                                    ? 'bg-red-100 text-red-800' \n                                    : timeLeft < 600 \n                                        ? 'bg-yellow-100 text-yellow-800' \n                                        : 'bg-indigo-100 text-indigo-800'\n                            }`}>\n                                <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                </svg>\n                                {formatTime(timeLeft)}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                {/* Progress bar */}\n                <div className=\"h-1 w-full bg-gray-200\">\n                    <div \n                        className=\"h-1 bg-indigo-600 transition-all duration-300\"\n                        style={{ width: `${progress}%` }}\n                    ></div>\n                </div>\n            </div>\n\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n                {submitted ? (\n                    <div className=\"bg-white rounded-lg shadow-md p-8 text-center max-w-md mx-auto\">\n                        <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                            <svg className=\"h-10 w-10 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                        </div>\n                        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Exam Submitted</h2>\n                        <p className=\"text-gray-600 mb-6\">Your answers have been recorded successfully.</p>\n                        <button\n                            onClick={() => navigate('/student-dashboard')}\n                            className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-md\"\n                        >\n                            Return to Dashboard\n                        </button>\n                    </div>\n                ) : (\n                    <div className=\"flex flex-col lg:flex-row gap-6\">\n                        {/* Question navigation sidebar */}\n                        <div className=\"lg:w-72 bg-white p-5 rounded-lg shadow-md h-fit\">\n                            <div className=\"flex justify-between items-center mb-4\">\n                                <h3 className=\"text-lg font-medium text-gray-900\">Questions</h3>\n                                <span className=\"text-sm text-gray-500\">{Object.values(answers).filter(a => a !== '').length}/{exam.questions.length} answered</span>\n                            </div>\n                            \n                            <div className=\"grid grid-cols-5 sm:grid-cols-6 lg:grid-cols-4 gap-2 mb-6\">\n                                {exam.questions && exam.questions.map((_, index) => (\n                                    <button\n                                        key={index}\n                                        onClick={() => setCurrentQuestion(index)}\n                                        className={`h-10 w-10 rounded-md flex items-center justify-center font-medium text-sm transition-all\n                                            ${currentQuestion === index \n                                                ? 'bg-indigo-600 text-white shadow-md' \n                                                : answers[index] \n                                                    ? 'bg-indigo-100 text-indigo-800 border-2 border-indigo-300' \n                                                    : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                                            }`}\n                                    >\n                                        {index + 1}\n                                    </button>\n                                ))}\n                            </div>\n                            \n                            <div className=\"space-y-3\">\n                                <div className=\"flex items-center text-sm text-gray-600\">\n                                    <div className=\"w-4 h-4 bg-indigo-600 rounded-sm mr-2\"></div>\n                                    <span>Current question</span>\n                                </div>\n                                <div className=\"flex items-center text-sm text-gray-600\">\n                                    <div className=\"w-4 h-4 bg-indigo-100 border-2 border-indigo-300 rounded-sm mr-2\"></div>\n                                    <span>Answered</span>\n                                </div>\n                                <div className=\"flex items-center text-sm text-gray-600\">\n                                    <div className=\"w-4 h-4 bg-gray-100 rounded-sm mr-2\"></div>\n                                    <span>Unanswered</span>\n                                </div>\n                            </div>\n                            \n                            <div className=\"mt-6 pt-6 border-t border-gray-200\">\n                                <button\n                                    onClick={() => setShowConfirmModal(true)}\n                                    className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-md flex items-center justify-center\"\n                                >\n                                    <svg className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                    </svg>\n                                    Submit Exam\n                                </button>\n                            </div>\n                        </div>\n                        \n                        {/* Main question area */}\n                        <div className=\"flex-1\">\n                            {exam.questions && exam.questions.length > 0 && (\n                                <div className=\"bg-white rounded-lg shadow-md p-6\">\n                                    <div className=\"mb-6\">\n                                        <div className=\"flex justify-between items-center mb-3\">\n                                            <div className=\"flex items-center\">\n                                                <span className=\"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full mr-2\">\n                                                    Question {currentQuestion + 1}/{exam.questions.length}\n                                                </span>\n                                                <span className=\"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full\">\n                                                    {exam.questions[currentQuestion].points || 1} {exam.questions[currentQuestion].points === 1 ? 'point' : 'points'}\n                                                </span>\n                                            </div>\n                                            <span className=\"text-xs text-gray-500\">\n                                                {exam.questions[currentQuestion].questionType || 'multiple-choice'}\n                                            </span>\n                                        </div>\n                                        <h2 className=\"text-xl font-semibold text-gray-900\">\n                                            {exam.questions[currentQuestion].questionText || exam.questions[currentQuestion].text}\n                                        </h2>\n                                    </div>\n                                    \n                                    {/* Multiple choice options */}\n                                    {(exam.questions[currentQuestion].questionType === 'multiple-choice' || !exam.questions[currentQuestion].questionType) && (\n                                        <div className=\"space-y-3\">\n                                            {exam.questions[currentQuestion].options && exam.questions[currentQuestion].options.map((option, optionIndex) => (\n                                                <div \n                                                    key={optionIndex}\n                                                    onClick={() => handleAnswerChange(currentQuestion, optionIndex.toString())}\n                                                    className={`p-4 border rounded-lg cursor-pointer transition-all\n                                                        ${answers[currentQuestion] === optionIndex.toString()\n                                                            ? 'border-indigo-500 bg-indigo-50 shadow-sm'\n                                                            : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'\n                                                        }`}\n                                                >\n                                                    <div className=\"flex items-center\">\n                                                        <div className={`h-5 w-5 rounded-full border flex-shrink-0 flex items-center justify-center\n                                                            ${answers[currentQuestion] === optionIndex.toString()\n                                                                ? 'border-indigo-600 bg-indigo-600'\n                                                                : 'border-gray-300'\n                                                            }`}\n                                                        >\n                                                            {answers[currentQuestion] === optionIndex.toString() && (\n                                                                <span className=\"h-2 w-2 rounded-full bg-white\"></span>\n                                                            )}\n                                                        </div>\n                                                        <span className=\"ml-3 text-gray-800\">\n                                                            {typeof option === 'object' ? option.text : option}\n                                                        </span>\n                                                    </div>\n                                                </div>\n                                            ))}\n                                        </div>\n                                    )}\n\n                                    {/* True/False options */}\n                                    {exam.questions[currentQuestion].questionType === 'true-false' && (\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                            <div \n                                                onClick={() => handleAnswerChange(currentQuestion, 'true')}\n                                                className={`p-4 border rounded-lg cursor-pointer transition-all\n                                                    ${answers[currentQuestion] === 'true'\n                                                        ? 'border-indigo-500 bg-indigo-50 shadow-sm'\n                                                        : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'\n                                                    }`}\n                                            >\n                                                <div className=\"flex items-center\">\n                                                    <div className={`h-5 w-5 rounded-full border flex-shrink-0 flex items-center justify-center\n                                                        ${answers[currentQuestion] === 'true'\n                                                            ? 'border-indigo-600 bg-indigo-600'\n                                                            : 'border-gray-300'\n                                                        }`}\n                                                    >\n                                                        {answers[currentQuestion] === 'true' && (\n                                                            <span className=\"h-2 w-2 rounded-full bg-white\"></span>\n                                                        )}\n                                                    </div>\n                                                    <span className=\"ml-3 text-gray-800\">True</span>\n                                                </div>\n                                            </div>\n                                            <div \n                                                onClick={() => handleAnswerChange(currentQuestion, 'false')}\n                                                className={`p-4 border rounded-lg cursor-pointer transition-all\n                                                    ${answers[currentQuestion] === 'false'\n                                                        ? 'border-indigo-500 bg-indigo-50 shadow-sm'\n                                                        : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'\n                                                    }`}\n                                            >\n                                                <div className=\"flex items-center\">\n                                                    <div className={`h-5 w-5 rounded-full border flex-shrink-0 flex items-center justify-center\n                                                        ${answers[currentQuestion] === 'false'\n                                                            ? 'border-indigo-600 bg-indigo-600'\n                                                            : 'border-gray-300'\n                                                        }`}\n                                                    >\n                                                        {answers[currentQuestion] === 'false' && (\n                                                            <span className=\"h-2 w-2 rounded-full bg-white\"></span>\n                                                        )}\n                                                    </div>\n                                                    <span className=\"ml-3 text-gray-800\">False</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    )}\n                                    \n                                    {/* Navigation buttons */}\n                                    <div className=\"mt-8 flex justify-between\">\n                                        <button\n                                            onClick={goToPreviousQuestion}\n                                            disabled={currentQuestion === 0}\n                                            className={`px-4 py-2 rounded-md flex items-center ${\n                                                currentQuestion === 0\n                                                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                                                    : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\n                                            }`}\n                                        >\n                                            <svg className=\"h-5 w-5 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                                            </svg>\n                                            Previous\n                                        </button>\n                                        \n                                        <button\n                                            onClick={goToNextQuestion}\n                                            disabled={currentQuestion === exam.questions.length - 1}\n                                            className={`px-4 py-2 rounded-md flex items-center ${\n                                                currentQuestion === exam.questions.length - 1\n                                                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                                                    : 'bg-indigo-600 text-white hover:bg-indigo-700'\n                                            }`}\n                                        >\n                                            Next\n                                            <svg className=\"h-5 w-5 ml-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                                            </svg>\n                                        </button>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default TakeExam;\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}